<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Task 3: Flight Booker | XState Docs</title>
    <meta name="generator" content="VuePress 1.8.2">
    <script src="https://plausible.io/js/plausible.js" defer="defer"></script>
    <meta name="description" content="Documentation for XState: State Machines and Statecharts for the Modern Web">
    
    <link rel="preload" href="/xstate-docs-cn/assets/css/0.styles.621fcd18.css" as="style"><link rel="preload" href="/xstate-docs-cn/assets/js/app.fd3d380c.js" as="script"><link rel="preload" href="/xstate-docs-cn/assets/js/3.224f3587.js" as="script"><link rel="preload" href="/xstate-docs-cn/assets/js/9.4fb7b0c1.js" as="script"><link rel="preload" href="/xstate-docs-cn/assets/js/75.f4264653.js" as="script"><link rel="prefetch" href="/xstate-docs-cn/assets/js/10.d6c8d39c.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/100.705e4e82.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/101.18a4fc05.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/102.2b31ad7f.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/103.9927ae97.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/104.3c188db5.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/105.bc94c9ec.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/106.b45f6fe3.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/107.53b46908.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/108.f09ca461.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/109.acf84e7a.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/11.85057b71.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/110.5b631b13.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/111.fa9ba404.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/112.53bfdae5.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/113.0e101ea2.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/114.d8c2df01.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/115.1eac2d41.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/116.2e3bf298.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/117.acfd5c6b.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/118.bc84dfea.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/119.c30610d2.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/12.aa2bb9e4.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/120.e9f60857.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/121.dfd58366.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/122.9f2d24c6.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/123.536d08a3.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/124.5260ade2.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/125.c5dfdd1e.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/126.5c9e39c8.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/127.e726df20.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/128.e2c7e6eb.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/129.46d524df.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/13.62ad92cb.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/130.ad717952.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/131.91307016.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/132.c877213f.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/133.6511861c.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/134.31765160.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/135.dfdaed5d.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/136.88e109b1.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/137.6c4cf9d0.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/138.c3830c41.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/139.4f59ff39.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/14.70e2aa69.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/140.8083e9af.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/141.67da385b.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/142.c91cf620.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/143.b08cf488.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/144.b5a292c4.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/145.b7a202a7.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/146.e5ca309d.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/147.2e746fc2.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/148.6027da1e.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/149.6c4f67db.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/15.8f9c8802.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/16.7347e205.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/17.8f7f0066.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/18.b203fe75.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/19.f955ded8.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/20.36a2e805.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/21.f0750300.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/22.15966af0.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/23.0e9a53de.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/24.93a61e75.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/25.5ada1382.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/26.b97ecd3d.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/27.ae8c6d09.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/28.e6ed8ce6.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/29.d0d6a617.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/30.cb124df2.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/31.ecdf1896.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/32.7c3b7b6a.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/33.a5b46f90.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/34.d3b1f5ef.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/35.c7e7108f.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/36.dad3588c.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/37.fca30592.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/38.87a46cc3.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/39.b48074f4.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/4.c315884c.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/40.9ae84923.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/41.e237b47b.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/42.7726b0b7.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/43.52cee727.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/44.f208550d.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/45.40767358.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/46.b9a297b0.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/47.f70b1ad9.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/48.d5678c64.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/49.9bf259a5.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/5.ced113fa.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/50.dc40f7cc.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/51.66a4c247.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/52.a917d60c.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/53.6892c7d3.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/54.e7c2d18f.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/55.ebb14699.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/56.8d039cc0.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/57.d84ff247.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/58.b0c74505.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/59.8e077b82.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/6.c3b971ab.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/60.cde4a807.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/61.7aa002e1.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/62.0250570f.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/63.4ae8e464.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/64.2111f2ef.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/65.bc3cefd2.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/66.8decd82f.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/67.d70f5c8c.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/68.225013b8.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/69.b9a69d44.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/7.268c2995.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/70.68fdbf0c.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/71.ae173e33.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/72.d43608be.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/73.4f5fa554.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/74.da74265b.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/76.8299c462.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/77.803c84df.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/78.df1fbce9.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/79.fd2c6afc.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/8.c3a524e2.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/80.3056e07c.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/81.ce7d82c1.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/82.aea0c6f6.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/83.36d2c19b.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/84.accb0517.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/85.28f08d2a.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/86.55460020.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/87.6055598a.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/88.abd24d7e.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/89.99695618.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/90.4101273c.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/91.1f4127a9.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/92.e4465486.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/93.330e9f9d.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/94.293caaad.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/95.5c9433bb.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/96.dc1e204e.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/97.e2d80c07.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/98.25fab515.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/99.44e68f35.js"><link rel="prefetch" href="/xstate-docs-cn/assets/js/vendors~docsearch.8fe964ae.js">
    <link rel="stylesheet" href="/xstate-docs-cn/assets/css/0.styles.621fcd18.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/xstate-docs-cn/" class="home-link router-link-active"><img src="/xstate-docs-cn/logo.svg" alt="XState Docs" class="logo"> <span class="site-name can-hide">XState Docs</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://paka.dev/npm/xstate/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  API
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://stately.ai/viz" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Visualizer
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://discord.gg/xtWgFTgvNV" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Discord
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/statelyai/xstate/discussions" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Community
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">Languages</span> <span class="arrow down"></span></button> <button type="button" aria-label="Select language" class="mobile-dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/xstate-docs-cn/tutorials/7guis/flight.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  English
</a></li><li class="dropdown-item"><!----> <a href="/xstate-docs-cn/zh/tutorials/7guis/flight.html" class="nav-link">
  简体中文
</a></li></ul></div></div> <a href="https://github.com/davidkpiano/xstate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://paka.dev/npm/xstate/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  API
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://stately.ai/viz" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Visualizer
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://discord.gg/xtWgFTgvNV" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Discord
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/statelyai/xstate/discussions" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Community
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">Languages</span> <span class="arrow down"></span></button> <button type="button" aria-label="Select language" class="mobile-dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/xstate-docs-cn/tutorials/7guis/flight.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  English
</a></li><li class="dropdown-item"><!----> <a href="/xstate-docs-cn/zh/tutorials/7guis/flight.html" class="nav-link">
  简体中文
</a></li></ul></div></div> <a href="https://github.com/davidkpiano/xstate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>What is XState?</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>About</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Guides</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Tutorials</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/xstate-docs-cn/tutorials/reddit.html" class="sidebar-link">Reddit API</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>7GUIs</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/xstate-docs-cn/tutorials/7guis/counter.html" class="sidebar-link">Task 1: Counter</a></li><li><a href="/xstate-docs-cn/tutorials/7guis/temperature.html" class="sidebar-link">Task 2: Temperature</a></li><li><a href="/xstate-docs-cn/tutorials/7guis/flight.html" aria-current="page" class="active sidebar-link">Task 3: Flight Booker</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/xstate-docs-cn/tutorials/7guis/flight.html#modeling" class="sidebar-link">Modeling</a></li><li class="sidebar-sub-header"><a href="/xstate-docs-cn/tutorials/7guis/flight.html#coding" class="sidebar-link">Coding</a></li><li class="sidebar-sub-header"><a href="/xstate-docs-cn/tutorials/7guis/flight.html#result" class="sidebar-link">Result</a></li></ul></li><li><a href="/xstate-docs-cn/tutorials/7guis/timer.html" class="sidebar-link">Task 4: Timer</a></li></ul></section></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Recipes</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Packages</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Patterns</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Examples</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>News and Useful Links</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="task-3-flight-booker"><a href="#task-3-flight-booker" class="header-anchor">#</a> Task 3: Flight Booker</h1> <p>This is the third of <a href="https://eugenkiss.github.io/7guis/tasks#flight" target="_blank" rel="noopener noreferrer">The 7 Tasks from 7GUIs<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>:</p> <blockquote><p>Challenges: constraints.</p> <p>The task is to build a frame containing a combobox C with the two options “one-way flight” and “return flight”, two textfields T1 and T2 representing the start and return date, respectively, and a button B for submitting the selected flight. T2 is enabled iff C’s value is “return flight”. When C has the value “return flight” and T2’s date is strictly before T1’s then B is disabled. When a non-disabled textfield T has an ill-formatted date then T is colored red and B is disabled. When clicking B a message is displayed informing the user of his selection (e.g. “You have booked a one-way flight on 04.04.2014.”). Initially, C has the value “one-way flight” and T1 as well as T2 have the same (arbitrary) date (it is implied that T2 is disabled).</p> <p>The focus of Flight Booker lies on modelling constraints between widgets on the one hand and modelling constraints within a widget on the other hand. Such constraints are very common in everyday interactions with GUI applications. A good solution for Flight Booker will make the constraints clear, succinct and explicit in the source code and not hidden behind a lot of scaffolding.</p> <p>Flight Booker is directly inspired by the Flight Booking Java example in Sodium with the simplification of using textfields for date input instead of specialized date picking widgets as the focus of Flight Booker is not on specialized/custom widgets.</p></blockquote> <h2 id="modeling"><a href="#modeling" class="header-anchor">#</a> Modeling</h2> <p>Overall, there's two possible states this form can be in: <code>editing</code> or <code>submitted</code>. We can model updating the <code>startDate</code>, <code>returnDate</code>, and <code>trip</code> fields by using events, with the constraint that these fields can only be edited when in the <code>editing</code> state. Additionally, the <code>returnDate</code> can only be edited when <code>trip</code> is <code>&quot;roundTrip&quot;</code>, and we can enforce that constraint by using a guard.</p> <p>A <code>SET_TRIP</code> event controls the <code>trip</code> field, and can only be assigned in the <code>editing</code> state (try editing it in <code>submitted</code> - even if it's not disabled, it will not change). We can add the additional constraint that it must either be <code>&quot;oneWay&quot;</code> or <code>&quot;roundTrip&quot;</code>.</p> <p>To transition from <code>editing</code> to <code>submitted</code>, a <code>SUBMIT</code> event needs to be sent. Validation occurs in this transition by using a guard to ensure that there is a <code>startDate</code> if the <code>trip</code> is <code>&quot;oneWay&quot;</code>, or that there is a <code>startDate</code> and <code>returnDate</code> if the <code>trip</code> is <code>&quot;roundTrip&quot;</code>.</p> <div class="custom-block tip"><p class="custom-block-title">TIP: Context vs. State</p> <p>Notice that we decided not to model the machine with nested states for the <code>trip</code>, such as <code>editing.oneWay</code> or <code>editing.roundTrip</code>. The reason is simply that even though this is technically a finite state (and you are free to model it this way), it is also a contextual value that we need to read from in order to display the value in the <code>trip</code> select input: <code>context.trip</code>.</p> <p>However, you <em>can</em> model this using nested states, and it's a good exercise to try it on your own; it might even simplify some of the guard logic in the <code>SUBMIT</code> transition. Try it out:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// ...</span>
initial<span class="token operator">:</span> <span class="token string">'oneWay'</span><span class="token punctuation">,</span>
states<span class="token operator">:</span> <span class="token punctuation">{</span>
  oneWay<span class="token operator">:</span> <span class="token punctuation">{</span>
    entry<span class="token operator">:</span> <span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">{</span> trip<span class="token operator">:</span> <span class="token string">'oneWay'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  roundTrip<span class="token operator">:</span> <span class="token punctuation">{</span>
    entry<span class="token operator">:</span> <span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">{</span> trip<span class="token operator">:</span> <span class="token string">'roundTrip'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token comment">// ...</span>
</code></pre></div></div> <p><strong>States:</strong></p> <ul><li><code>&quot;editing&quot;</code> - the state where the flight booking information is being edited</li> <li><code>&quot;submitted&quot;</code> - the state where the flight booking information has been submitted successfully, and no further changes can be made</li></ul> <p><strong>Context:</strong></p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">FlightContext</span> <span class="token punctuation">{</span>
  startDate<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  returnDate<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  trip<span class="token operator">:</span> <span class="token string">'oneWay'</span> <span class="token operator">|</span> <span class="token string">'roundTrip'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>Events:</strong></p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">type</span> <span class="token class-name">FlightEvent</span> <span class="token operator">=</span>
  <span class="token operator">|</span> <span class="token punctuation">{</span>
      type<span class="token operator">:</span> <span class="token string">'SET_TRIP'</span><span class="token punctuation">;</span>
      value<span class="token operator">:</span> <span class="token string">'oneWay'</span> <span class="token operator">|</span> <span class="token string">'roundTrip'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token operator">|</span> <span class="token punctuation">{</span>
      type<span class="token operator">:</span> <span class="token string">'startDate.UPDATE'</span><span class="token punctuation">;</span>
      value<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token operator">|</span> <span class="token punctuation">{</span>
      type<span class="token operator">:</span> <span class="token string">'returnDate.UPDATE'</span><span class="token punctuation">;</span>
      value<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token operator">|</span> <span class="token punctuation">{</span> type<span class="token operator">:</span> <span class="token string">'SUBMIT'</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="coding"><a href="#coding" class="header-anchor">#</a> Coding</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createMachine<span class="token punctuation">,</span> assign <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'xstate'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> flightMachine <span class="token operator">=</span> <span class="token function">createMachine</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  id<span class="token operator">:</span> <span class="token string">'flight'</span><span class="token punctuation">,</span>
  initial<span class="token operator">:</span> <span class="token string">'editing'</span><span class="token punctuation">,</span>
  context<span class="token operator">:</span> <span class="token punctuation">{</span>
    startDate<span class="token operator">:</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span>
    returnDate<span class="token operator">:</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span>
    trip<span class="token operator">:</span> <span class="token string">'oneWay'</span> <span class="token comment">// or 'roundTrip'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  states<span class="token operator">:</span> <span class="token punctuation">{</span>
    editing<span class="token operator">:</span> <span class="token punctuation">{</span>
      on<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">'startDate.UPDATE'</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          actions<span class="token operator">:</span> <span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token function-variable function">startDate</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">_<span class="token punctuation">,</span> event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> event<span class="token punctuation">.</span>value
          <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token string">'returnDate.UPDATE'</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          actions<span class="token operator">:</span> <span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token function-variable function">returnDate</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">_<span class="token punctuation">,</span> event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> event<span class="token punctuation">.</span>value
          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token function-variable function">cond</span><span class="token operator">:</span> <span class="token parameter">context</span> <span class="token operator">=&gt;</span> context<span class="token punctuation">.</span>trip <span class="token operator">===</span> <span class="token string">'roundTrip'</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token constant">SET_TRIP</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          actions<span class="token operator">:</span> <span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token function-variable function">trip</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">_<span class="token punctuation">,</span> event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> event<span class="token punctuation">.</span>value
          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token function-variable function">cond</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">_<span class="token punctuation">,</span> event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
            event<span class="token punctuation">.</span>value <span class="token operator">===</span> <span class="token string">'oneWay'</span> <span class="token operator">||</span> event<span class="token punctuation">.</span>value <span class="token operator">===</span> <span class="token string">'roundTrip'</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token constant">SUBMIT</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          target<span class="token operator">:</span> <span class="token string">'submitted'</span><span class="token punctuation">,</span>
          <span class="token function-variable function">cond</span><span class="token operator">:</span> <span class="token parameter">context</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>context<span class="token punctuation">.</span>trip <span class="token operator">===</span> <span class="token string">'oneWay'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              <span class="token keyword">return</span> <span class="token operator">!</span><span class="token operator">!</span>context<span class="token punctuation">.</span>startDate<span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
              <span class="token keyword">return</span> <span class="token punctuation">(</span>
                <span class="token operator">!</span><span class="token operator">!</span>context<span class="token punctuation">.</span>startDate <span class="token operator">&amp;&amp;</span>
                <span class="token operator">!</span><span class="token operator">!</span>context<span class="token punctuation">.</span>returnDate <span class="token operator">&amp;&amp;</span>
                context<span class="token punctuation">.</span>returnDate <span class="token operator">&gt;</span> context<span class="token punctuation">.</span>startDate
              <span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    submitted<span class="token operator">:</span> <span class="token punctuation">{</span>
      type<span class="token operator">:</span> <span class="token string">'final'</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="result"><a href="#result" class="header-anchor">#</a> Result</h2> <iframe src="https://codesandbox.io/embed/7guis-flight-ulux2?fontsize=14&amp;hidenavigation=1&amp;theme=dark" title="7GUIs: Flight" allow="geolocation; microphone; camera; midi; vr; accelerometer; gyroscope; payment; ambient-light-sensor; encrypted-media; usb" sandbox="allow-modals allow-forms allow-popups allow-scripts allow-same-origin" style="width:100%;height:500px;border:0;border-radius:4px;overflow:hidden;"></iframe></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/davidkpiano/xstate/edit/main/docs/tutorials/7guis/flight.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/xstate-docs-cn/tutorials/7guis/temperature.html" class="prev">
        Task 2: Temperature
      </a></span> <span class="next"><a href="/xstate-docs-cn/tutorials/7guis/timer.html">
        Task 4: Timer
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/xstate-docs-cn/assets/js/app.fd3d380c.js" defer></script><script src="/xstate-docs-cn/assets/js/3.224f3587.js" defer></script><script src="/xstate-docs-cn/assets/js/9.4fb7b0c1.js" defer></script><script src="/xstate-docs-cn/assets/js/75.f4264653.js" defer></script>
  </body>
</html>
